# 1. 컴퓨터 구성 - 하드웨어



### 1. 하드웨어

> 중앙 처리 장치, 기억 장치, 입출력 장치가 시스템 버스로 연결됨

* 중앙 처리 장치(CPU)

  * 두뇌, 프로세서

  * 주기억장치에서 프로그램 명령어와 데이터 읽어와 처리 & 명령어 수행 순서 제어

  * 소형컴퓨터에서는 마이크로프로세서로 불림

  * 구성

    * 산술논리 연산 장치(ALU)

      ─   산술 연산 & 논리 연산 수행

      ─   과정

      	1. 연산에 필요한 데이터를 <= 레지스터에서 가져오고,
      	1. 연산 결과를 => 다시 레지스터로 보냄

    * 제어장치

      ─   명령어를 순서대로 실행하게 제어하는 장치

      ─   과정

      1. 주기억장치에서 => 프로그램 명령어를 꺼내 해독
      2. 그 결과에 따라 명령어 실행에 필요한 제어 신호를 => 기억장치, 연산장치, 입출력장치로 보냄
      3. 또한 이 장치들이 보낸 신호를 받아 다음 동작을 결정

    * 레지스터

      ─   고속 기억장치 

      ​	ㆍ CPU 안에 있으니까 당연

      ─   명령어 주소, 연산에 필요한 데이터, 연산 결과 등을 임시 저장

      ─   탄생 이유

      ​	ㆍ CPU가 메모리 접근 시마다 시간이 걸리니까 CPU안에 레지스터 넣음

      ─   종류

      ​		▼  범용 레지스터

      ​			ㆍ연산에 필요한 데이터 & 연산결과 임시 저장

      ​		▼  특수목적 레지스터

      ​			ㆍ 특별 용도로 쓰는 레지스터

      ​			ㆍ MAR (메모리 주소 레지스터) : RW 연산 수행할 주기억장치 주소 저장

      ​			ㆍ PC (프로그램 카운터) : 다음 수행할 명령어 주소 저장

      ​			ㆍ IR (명령어 레지스터) : 현재 실행 중인 명령어 저장

      ​			ㆍ MBR(메모리 버퍼 레지스터) : 주기억장치에서 읽은 데이터 or 저장할 데이터 임시 저장

      ​			ㆍAC (누산기) : 연산 결과 임시 저장

    * 캐시메모리

      ─   레지스터 다음으로 빠른 메모리

      ─   탄생 이유

      ​	ㆍ CPU와 주기억장치 간 속도 차이로 인한 성능저하(병목현상)을 막기 위함

      ─   과정

      	1. CPU가 주기억장치에서 자장된 데이터를 읽어올 때 자주 사용하는 데이터를 저장하고
      	1.  다음에 이를 이용 시. 캐시메모리로 접근하여 속도 향상

      ─   장단점

      ​	ㆍ 장점: 속도

      ​	ㆍ 단점: 적은 용량, 비싼 가격(SRAM(비쌈)으로 이루어 져서)

      ─   종류

      ​	▼  속도와 크기에 따라 분류

      ​	▼  L1 캐시메모리

      ​		ㆍ CPU 내부에 존재

      ​		ㆍ 보통 CPU에서 먼저 사용되어 가장 빠르게 접근하고, 여기서 데이터 못찾으면 L2로 감

      ​	▼  L2 캐시메모리

      ​		ㆍ CPU와 RAM 사이 존재

      ​	▼  L3 캐시메모리

      ​		ㆍ 보통 메인보드에 존재

      ─   작동 원리

      ​	▼  시간 지역성

      ​		ㆍ 한번 참조된 데이터는 잠시 후 재참조될 가능성 높음

      ​		ㆍ ex.  for문의 조건 변수

      ​	▼  공간 지역성 (참조 지역성)

      ​		ㆍ 참조된 데이터 근처의 데이터가 잠시 후 참조될 가능성 높음

      ​		ㆍ 그래서 다 같이 캐시에 저장

      ​		ㆍ ex.  a[0], a[1] 

  * CPU 동작 과정

    1. 주기억장치는 입력장치에서 받은 입력데이터 or 보조기억장치에 저장된 프로그램 읽어옴
    2. CPU는 프로그램 실행을 위해 주기억장치에 저장된 프로그램 명령어& 데이터를 읽어 (1) 처리하고 결과를 다시 주기억장치에 저장
    3. 주기억장치는 처리 결과를 보조기억장치에 저장 or 출력장치로 보냄
    4. 제어장치는 1~3 과정에서 명령어가 순서대로 실행되게 각 장치를 제어
  
  * 명령어 세트
  
    * CPU가 실행할 명령어 집합
  
    * 구성
  
      ─   연산 코드
  
      ​	연산, 제어, 데이터전달, 입출력 기능. 즉, 실행할 연산
  
      ─   피연산자
  
      ​	필요한 데이터 or 저장 위치
  
    * 명령어 사이클 
  
      ─   CPU가 주기억장치에서 한 번에 1개 명령어를 인출해 실행하는데 필요한 활동들(1)
  
      ─   종류
  
      ​	ㆍ인출 사이클 (Fetch Cycle)
  
      ​	ㆍ 실행 사이클
  
      ​	ㆍ 간접 사이클
  
      ​	ㆍ 인터럽트 사이클 
  
      ─   인출 & 실행 사이클에 의한 명령어 처리 과정
  
      ​	▼  인출 과정
  
      ​		ㆍ인출 사이클에서 가장 중요한 부분은 PC(프로그램 카운터) 증가
  
      ​		1.  PC에 저장된 주소를 MAR로 전달 (PC → MAR) 	(MAR: 100)
      
      ​		2. 저장된 내용을 토대로 주기억장치의 해당 주소에서 명령어 인출
      
      ​		3. 인출한 명령어를 MBR에 저장 (MAR → MBR & PC += 1)	 (MBR: 데이터)
      
      ​				PC에 있는 명령 가져왔으니까 다음 명령어 인출을 위해 PC+1
      
      ​		4. MBR에 저장된 명령어를 IR에 전달 (MBR → IR)
      
      ​				전달된 명령어를 IR에서 해독
      
      ​	▼  실행 과정; 인출 이후
      
      ​		ㆍ 이미 인출되고 명령어 실행만 하면 되기에 PC 증가할 필요 X 
      
      ​		1. IR의 데이터 주소를 MAR에 저장 ( IR[addr] → MAR )
      
      ​		2. 메모리의 MAR번지의 데이터를 MBR에 저장 ( M[MAR] → MBR )
      
      ​		3. AC에 MBR을 더함 (AC + MBR → AC) : 연산 결과 임시 저장
  
* 기억 장치

  * 프로그램, 데이터, 연산의 중간 결과 저장

  * 종류

    * 주기억장치

      ─   프로그램에 필요한 데이터 & 현재 CPU가 처리하는 내용 임시 저장

      ─   CPU는 주기억장치만 직접 읽고 쓰기 가능(주로 RAM의 특징)

      ​		ㆍ 따라서, SW는 주기억장치 거칠 수 밖에 없음

      ​		ㆍ 프로그램 실행 과정

      ​			1.  특정 프로그램 실행 시,  보조기억장치의 데이터를 주기억장치로 가져옴

      ​			2.  CPU가 해당 데이터를 처리	

      ─   주기억장치 용량이 커지면 더 많은 데이터에 CPU 접근 가능 

      ​		ㆍ 따라서, 보조기억장치 접근할 필요 X = 성능 향상

      ─   용량이 크고 속도가 빠름

      ─   종류

      ​	▼  RAM(Random Access Memory

      ​		ㆍ맘대로 RW 가능함을 의미

      ​		ㆍ휘발성 메모리 (전원이 X => 데이터가 X)

      ​				따라서 실행 중인 파일은 늘 보조기억장치에 저장해야 함

      ​		ㆍ응용프로그램, 운영체제 등을 불러와 CPU가 작업하게 함

      ​		ㆍ디스크 캐시

      ​				주기억장치와 보조기억장치 사이 존재

      ​	▼  ROM(Read Only Memory)

      ​		ㆍ오직 R만 가능함을 의미

      ​		ㆍ비휘발성 메모리 (전원이 X => 데이터 보존)

      ​		ㆍ시스템에 기억시키고 변화시키면 안되는 BIOS 등 기본적으로 가지고 있어야 하는 내용(프로그램) 저장	

    * 보조기억장치

      ─   물리적인 하드디스크가 연결된 기억장치

      ─   주기억장치보다 속도 느림 & 비휘발성으로 영구 보관

      ─   종류

      ​	▼ HDD(Hard Disk Driver)

      ​		ㆍ물리적인 디스크를 고속으로 회전시켜 데이터 저장하는 장치

      ​				따라서, 충격에 약하고, 소음 발생

      ​		ㆍ크기가 작고, 속도 향상된 SSD가 나오며 많이 사라짐

      ​	▼ SSD(Solid State Driver)

      ​		ㆍ반도체 기반으로 정보 저장하는 기억장치

      ​		ㆍ전기적으로 저장, 물리적으로 데이터 저장 X

      ​				따라서, 속도 빠르고, 소음 X

      ​		ㆍ전력소모 적고, 소형화 가능

  * 입출력 장치

  * 종류

    * 입력

      ─   컴퓨터 내부로 자료 입력하는 장치
      
      ─   ex. 키보드, 마우스

    * 출력

      ─   컴퓨터에서 외부로 표현하는 장치
      
      ─   ex. 프린터, 모니터, 스피커 등
  
  * 시스템 버스

  * 하드웨어 구성요소를 물리적으로 연결하는 선

  * 서로 데이터 전달하게 함
  
  * 종류

    * 데이터 버스

      ─   중앙처리장치와 다른 장치 사이에서 데이터 전달

      ─   '양방향' 버스

      ​	ㆍ기억장치와 입출력장치의-> 명령어와 데이터를 -> CPU로 보내거나,

      ​	ㆍCPU의 -> 연산 결과를 -> 기억장치와 입출력 장치로 보내는 

    * 주소 버스

      ─   데이터를 정확히 실어나르기 위해선 기억장치 주소를 정해야 함

      ─   '단방향' 버스

      ​	ㆍ CPU가 -> 기억장치 주소를 -> 주기억장치나 입출력장치로  전달하는 통로

    * 제어 버스

      ─  데이터 버스 & 주소 버스는 모든 장치에 공유됨 -> 따라서 이를 제어하는 수단

      ─  CPU가 -> 제어 신호를 -> 기억장치나 입출력장치에 전달하는 통로

      ─  제어 신호 종류

      ​	ㆍ 기억장치 R&W, 버스 요청&승인, 인터럽트 요청&승인, 클락, 리셋 등

      ─  '양방향' 버스

      ​	ㆍ 읽기동작 & 쓰기동작 모두 수행 

  * 컴퓨터는 기본적으로 읽고(Read) →  처리한 뒤(Process) →  저장(Write)하는 과정

  * 이 과정에서 계속 주기억장치(RAM)과 소통

  * if 운영체제가 64bits라면, CPU는 RAM으로부터 데이터를 한번에 64bit씩 읽어 옴
