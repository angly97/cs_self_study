# 8. 쿠키 & 세션



### 1. 비교

​	<img src="https://user-images.githubusercontent.com/70613905/163705063-93b94df0-694b-49f9-9fe2-f57dbdcca905.JPG" style="width:90%;" />

* 정의
  * 세션
    * 컴퓨터 간 논리적 연결
  * 쿠키
    * 브라우저에 저장된 텍스트 파일
* 저장 위치
  * 세션
    * 서버의 메모리
  * 쿠키
    * 브라우저가 지정하는 메모리 or 하드디스크
* 사용 자원/리소스
  * 세션
    * 서버의 리소스 (서버 메모리 등)
  * 쿠키
    * 클라이언트 리소스
* 만료시점
  * 세션
    * 브라우저 종료하거나, 설정한 시간
    * 설정한 시간동안 반응없으면 세션 종료
  * 쿠키
    * 쿠키 저장 시 expires 속성을 정의하여 만료시점 설정
* 용량 제한
  * 세션
    *  서버 용량이 허용하는 만큼
  * 쿠키
    * 한 도메인 당 20개/ 한 클라이언트에 총 300개까지 저장됨
    * 클라이언트 모르게 접속된 사이트에 의해 쿠키 설정될 수 있으므로 이를 막고자 제한 걸어둠
* 속도
  * 세션 < 쿠키
  * 세션은 서버의 처리가 필요하기 때문에 좀 느림

* 보안
  * 세션 > 쿠키
  * 쿠키는 로컬에 저장되어 변질되거나, request에서 뺏길 수 있음
  * 세션은 서버에서 안전하게 전달됨



### 2. 쿠키 사용하는 이유

* HTTP 는 무상태 프로토콜
  * 즉, 클라이언트와 서버 연결이 끊긴 후, 다시 클라이언트가 서버에 다음 요청을 해도 서버는 아까 요청했던 클라이언트인지 알 수 없음
  * 즉, 클라이언트의 이전 상태를 알수 없어서, 로그인하고 다음페이지로 넘어가면 로그인 해제됨
  * 해결 
    * 쿠키
* 세션은 서버의 자원을 사용하기 때문에, 많은 클라이언트를 처리해야하는 서버의 자원에 한계가 있기 때문
* 서버의 자원 낭비를 방지하기 위함



### 3. 캐시

* 이미지, css, js파일 등의 자원들을 서버나 브라우저에 저장하는 임시저장소
* 이전에 사용되었던 자원은 재사용될 가능성 높으므로, 서버까지 가지 않고 빠르게 줄 수 있는 저장소
