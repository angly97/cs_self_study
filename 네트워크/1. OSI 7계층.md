# 1. OSI 7계층

> 계층으로 나누는 이유
>
> : 통신 과정을 단계별로 알 수 있고, 문제가 생기면 그 단계만 수정하면 됨



### 7. 응용 계층 (Application Layer)

* 데이터 생성이 목적으로, 응용 프로그램으로 응용 서비스 제공
* 사용자 인터페이스, 전자우편 , 데이터베이스 관리 등 서비스 제공
* 프로토콜
  * HTTP : 월드 와이드 웹 상에서, 정보(주로 HTML문서)를 주고받는 프로토콜
  * FTP : 파일 전송 시 사용되는 프로토콜
  * DNS : 호스트 이름을 IP주소로 매핑하는 프로토콜




### 6. 표현 계층 (Presentation Layer)

* 응용 계층의 데이터를 컴퓨터가 인식할 수 있게, 응용프로그램에 맞는 확장자로 포맷이 변환됨
  
* 여기서 인코딩/암호화/압축화가 일어납니다.

* 프로토콜
  * **SSL : 네트워크 계층(레이어)의 암호화 방식, HTML/FTP 등에서 사용함(인증/암호화/무결성 보장)**
  * ASCII : 문자 인코딩의 기반이 됨
  * JPEG : 이미지 압축 표준
  * MPEG : 동영상 압축 표준
  * IMAP(Internet Message Access Protocol) : 메일 서버나 서비스에서 메시지 읽어노는 프로토콜




### 5. 세션 계층 (Session Layer)

* 통신상대와 논리적 연결 담당
* TCP/IP 세션을 만들고 없앰



### 4. 전송 계층 (Transport Layer)

* 포트번호로 서비스를 구별하고, 서비스에 따라 전송 방식 결정
  
* 데이터 수신 시, 데이터 합산해서 헤더에 포트번호를 포함하고 네트워크 계층으로 보냄

* 전송 방식

  * TCP (Transmission Control Protocol)

    * 확인 응답 절차를 거쳐서 => 신뢰성 높고 연결 지향적 & 속도 느림

    * PDU: Segment

  * UDP(User Datagram Protocol)

    * 확인 응답 절차 거치지 않아서 =>  신뢰성 낮고(비신뢰성) 비연결성 & 속도 빠름

    * 실시간 스트리밍에 유용

    * PDU: Datagram




### 3. 네트워크 계층 (Network Layer)

* 다른 네트워크 간 통신 가능하게 함
* IP주소 부여하고 이를 기반으로 경로 결정하는 라우팅 프로토콜 수행됨
* PDU : 패킷
* **프로토콜**
  * **IP : 패킷 교환 네트워크에서 통신 시 사용되는 프로토콜**
  * **ICMP : TCP/IP 에서 패킷 처리 시 발생하는 문제를 알림. 진단**
  * **IGMP : IP 멀티캐스트를 위한 통신 프로토콜. PC가 멀티캐스트를 할수있음을 라우터에 통지**
* 장비
  * 라우터, L3스위치



### 2. 데이터 링크 (Data Link Layer)

* 같은 네트워크 호스트 간 통신

* MAC주소를 부여하고, 그 프레임의 Mac주소를 기반으로 **네트워크 장치 간 전송 형태** 결정
  * MAC 주소 = 물리적 주소 = 장비 구별
    
    * **왜 IP주소말고 MAC주소도 이용해?**
    
      > IP는 네트워크 주소이기 때문에, 같은 네트워크 내에서는 구분하기 어려움
      >
      > 따라서, 장비의 고유한 주소인 MAC주소를 통해 수신기기를 구체화할 수 있음
      >

* 물리계층으로 보내지는 데이터 오류 감지 & 재전송

* PDU: 프레임

* 프로토콜

  * **이더넷 : MAC주소로 실제 회선을 통해 프레임 주고 받는 것 담당. LAN/WAN에서 사용됨**

    > LAN : 공유기/스위치 등으로 연결된 하나의 지역 네트워크
    >
    > WAN : LAN을 연결한 더 큰 네트워크

* 장비

  * 스위치 등




### 1. 물리 계층 (Physical Layer)

* 아날로그 신호가 들어오면 0, 1의 기계적 신호로 변환 & 2계층의 기계적 신호는 전기신호로 바꿔 전선으로 보냄
* PDU: 비트
* 장비
  * 케이블, 허브 등


​	<img src="https://user-images.githubusercontent.com/70613905/177061215-0fa1aa10-42c2-44e6-ac44-eaa9caf3c26b.jpg" alt="그림1" style="zoom:80%;" />

* 라우터에 게이트웨이 설정하고, 그 게이트웨이 마다 다른 네트워크가 연결됨.
* 한 네트워크 안에는 스위치들이 연결되어 있음
  * 서브넷에서는 MAC주소로 장비 구별





### 9. TCP/IP 4계층

* 실제로 인터넷 프로토콜은 OSI 7계층이 아니라 TCP/IP 모델을 따름

  * OSI 7계층은 표준화와 계층별 학습을 위한 모델이기 때문
  * 이를 기반으로 실제 적용은 TCP/IP 4계층 형태로 적용
* TCP/IP

  * 패킷으로 데이터를 전송할 때 사용되는 프로토콜
  * IP

    * 네트워크 주소를 말하구요, 이게 있어야 라우팅으로 목적지로 전달 가능
    * 패킷들을 가장 효율적으로 보내는 역할
    * 비신뢰성(패킷 전달 여부 확인 X) + 비연결지향성(각 패킷은 독립적으로 전달되어, 순차전송 안됨)
  * TCP

    * IP위에 동작하는 신뢰성있고, 연결지향적인 프로토콜

      > IP만 있으면, 효율적인 전송은 하지만 패킷이 수신지에 순차적으로 전송되는 것을 보장할 수 없음
      >
      > 패킷을 전송하는 걸 실패할 경우, 재전송하며 흐름제어/혼잡제어 수행
* 계층

  * 왜 4계층?

    > 제 생각에는, 예를 들어 물리계층과 데이터링크 계층을 굳이 2개를 구분하기에는 밀접하거나, 아니면 한 쪽이 하는 일이 굉장히 적기 때문에 그냥 하나로 합친 것 같다고 생각합니다. 
  * 물리계층 + 데이터링크 계층 = 네트워크 인터페이스 계층
  * 네트워크 계층 = 인터넷 계층
  * 전송계층 = 전송 계층 (PDU: 세그먼트)
  * 세션 계층 + 표현 계층 + 응용 계층 = 응용 계층
* 단점
  * **도청가능**한 네트워크
    * 통신 내용을 경로의 도중에 볼 수 있기 때문에 => 따라서 평문을 주고 받으면 안됨
  * 해결
    * SSL을 이용한 HTTP 를 사용 (HTTPS)
