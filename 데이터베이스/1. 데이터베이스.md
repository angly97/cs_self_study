# 1. 데이터베이스

https://dev-coco.tistory.com/158

(DB 예상 질문. 꼭 보기)



### 1. 모델링 과정

* 개념적 →  논리적 →  물리적 으로 구체화됨

* 개념적 데이터 모델링

  * 프로젝트의 **요구사항을 분석하고, 핵심 엔티티와 식별자 그리고, 그 관계**를 정의

  * ERD(Entity-Relation 다이어그램)

    * 표기 방법

      ​	<img src="https://user-images.githubusercontent.com/70613905/177123156-5b2e66bc-0a13-457d-98fd-c139d69db311.jpg" alt="그림1" style="zoom:20%;" />

    * 결과

      ​	<img src="https://user-images.githubusercontent.com/70613905/177123364-7785dd30-b8ad-4981-b2bb-f469f51ec198.jpg" alt="그림1" style="width:80%;" />
  
  
    * 개체 (Entity)
  
      * DB에 표현하려는 대상
      * 교수, 학생, 글, 기록 등
  
  
  
    * 속성 (Attribute) == 식별자
  
      * 개체의 특성
  
  
  
    * 관계 (Relationship)
  
      * 개체 간 관계 (일대다, 다대다 등)
  


* 논리적 데이터 모델 (관계형 데이터 모델)

  * 개념적 모델링에서, 도출되지 않은 엔티티와 식별자를 도출하여, 전체 엔티티와 속성들을 정의
  * 개념적 모델링의 결과를 => 테이블이나 리스트 형태로, 릴레이션을 표현
  * **정규화** 수행하여 데이터 중복 제거
    <img src="https://user-images.githubusercontent.com/70613905/177124074-ef44844b-62df-47fe-9b54-049ddb185d4e.jpg" alt="image-20220704181724326" style="width:60%;" />
  * 구조
    <img src="https://user-images.githubusercontent.com/70613905/164576177-e6a297ee-5752-423b-9c58-9f7fe6458c2a.JPG" alt="image-20220422095056127" style="width:80%;" />

  * 릴레이션 (Relation)
    * 표로 구성된 데이터 모음
    * 파일구조 상 테이블
    * 릴레이션 스키마 + 릴레이션 인스턴스 로 구성

  * 릴레이션 스키마
    * 릴레이션 애트리뷰트의 집합
    * 릴레이션에 데이터 넣기 위한 틀

  * 릴레이션 인스턴스
    * 릴레이션 튜플의 집합

  * 도메인
    * 한 애트리뷰트가 가질 수 있는 데이터 범위
    * ex. 학년 애트리뷰트 도메인 = 1, 2, 3, 4

  * 튜플 (Tuple)
    * 릴레이션의 행
    * 파일구조 상 레코드 (Record)

  * 속성 (Attribute)
    * 릴레이션의 열


* 물리적 모델링
  * 논리적 모델링의 결과를, 테이블과 레코드 형식으로 매핑
  * 각 필드의 실제 이름(영어), 데이터 타입/크기, 인덱스, 뷰 등 설계



### 2. 데이터베이스

* 통합해서 관리되는 데이터 모음

* 사용 이유

  * DB 이전에는 파일로 데이터 관리 => 파일은 텍스트 모음 => 데이터 커짐에 따라 한계 발생 => 항목별로 구조화된 DB 등장
  
* 특징 (독무보)

  * 데이터 독립성

    * DBMS의 목표로, 응용 프로그램이 데이터베이스나 디스크의 변경에 영향 받지 않음

    * 물리적 독립성

      →  프로그램과 하드디스크 장치가 독립적이어서 => 디스크 도입하거나 변경돼도, 응용 프로그램에는 영향 없음

      →   내부 스키마 변해도 개념 스키마 변하지 않음 

    * 논리적 독립성

      →   프로그램과 데이터베이스가 독립적이어서 =>  데이터베이스가 변해도, 응용 프로그램에는 영향 없음

      →   즉, 개념스키마가 변해도 외부 스키마 변하지 않음

    * 스키마

      →   DB 구조와 제약조건 정의한 것

      ​	<img src="https://user-images.githubusercontent.com/70613905/164576184-9f60c21a-7ef1-4b77-a4ed-5292a7ffc0d8.JPG" alt="image-20220422091613749" style="width:80%;" />

      →   개념 스키마 / 스키마

      >* DBA/조직 전체 관점에서 DB 정의한 것으로 => DB 전체 골격 구조를 의미
      >* DB마다 1개
      >* 개체/관계/제약조건 등
      >* ex. Student라는 개체 정의
      
      →   외부 스키마 / 서브 스키마
      
      > * 외부(사용자)가 보는 스키마
      > * 사용자가 보는 관점에 따라 여러 스키마 존재
      > * **DBMS에서 SELECT쿼리를 실행했을 때 나오는 표라고 할 수 있음**
      >
      >   : 어떤 경우에는 table 전체를 조회하기도, 어떤 경우는 join된 결과를 보기도 함
      > * ex. Student DB를 이용하여, 기계과 홈페이지에선, 기계과 학생 스키마를, 컴공과 홈페이지에선 컴공과 학생 스키마를 정의
      
        →   내부 스키마
      
      > * 저장장치 관점 스키마
      >
      >   →   데이터가 실제로 저장되는 방법 표현
      >
      > * 레코드 내부 구조, 데이터 표현 방법 등
      >
      > * ex. Student 개체의 레코드 형식과 인덱스 정의
    
  * 데이터 무결성

    * **데이터의 정확성(중복이나 누락이 없음)과 일관성(모순 없음)을 유지하는 상태**
    * **정확성 : 데이터를 통합해서 관리하여 중복 최소화 + 제약조건을 통해 유지**
    * 일관성 : 제약조건을 통해 유지

  * 데이터 보안성

    * **계정, 권한 관리**를 통해 유지

* 데이터베이스 성능

  * 디스크 IO를 줄일 수록 성능이 좋아짐

    * 디스크 IO

      : 디스크 드라이브의 플래터(원판)을 돌려 목적 데이터 위치로 디스크 헤더 이동시킨 후, 데이터 읽는 것

      : 이 과정이 성능에 영향을 미침

  * 성능 방법 / DB 튜닝 과정
  
    * DB 구조나, DB 자체, 운영체제 등을 조정해서, DB 시스템의 성능을 향상하는 작업
    
    1. DB 설계 튜닝 : 모델링 관점
       * DB 설계 단계에서, 성능을 고려하여 설계
       * 인덱스 사용하여 디스크 IO 줄임
       * 정규화해서 중복을 줄이거나
       * 반정규화하여, 헤더에서 데이터를 읽을 때 한 번에 많이 읽도록
    2. DBMS 튜닝 : 환경 관점
       * 성능을 고려해서, 메모리나 블록 크기를 지정하는 것
       * ex. 캐시 크기 증가시켜서, 캐시에 있는 데이터를 요구할 경우 굳이 디스크까지 접근하지 않아도 되게끔
    3. SQL 튜닝 : APP 관점
       * SQL 작성 시 성능을 고려
       * ex. 해시, Join, 인덱싱, SQL 실행계획 등
