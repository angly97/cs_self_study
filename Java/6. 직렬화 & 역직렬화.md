# 직렬화/역직렬화



### 1. 직렬화 / 역직렬화

- 직렬화 (Serialization)
  - 자바 시스템 내부 객체나 데이터를 외부 자바 시스템에서도 사용할 수 있도록 바이트 형태로 변환하는 것
  - 객체 => 바이트
  - 파일 객체를 실제로 저장할 때 사용
- 역직렬화 (Deserialization)
  - 바이트 => 객체
  - 저장된 파일을 객체로 불러올 때 사용
- 조건
  - java.io.Serializable 인터페이스 구현
- 필요한 경우
  - JVM에 상주하는 객체 데이터 영속화할 때
    - 파일 저장 등
  - Cache
    - 객체를 바이트 형태로 변환하여 캐시에 저장



### 2. 구현

- java.io.Serializable 인터페이스 상속
- private static final long serialVersionUID 설정
  - 설정하지 않아도 자동으로 해시값이 설정되긴 함
  - 클래스 버전 식별을 위해 사용
    - 그래서 static 붙음. 클래스 수준에서 모두 동일하게하려고
    - 버전이 다르면 직렬화/역직렬화 안됨
  - 사용 이유
    - JVM은 직렬화/역직렬화하는 시점의 클래스에 대한 버전 번호 부여
    - 만약 클래스 정의가 변경되면 새로운 버전 번호 할당
    - 직렬화할때 버전 번호 != 역직렬화할 때 버전 번호 => 역직렬화 불가 & 예외 발생
